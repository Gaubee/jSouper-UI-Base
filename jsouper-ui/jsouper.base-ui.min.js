!function(){function a(a,b){var c,d,e,f,g=a.model,h=g._database||{},i=h.attrs,j=h.events,k=jSouper.$.hashCode(a,"jsouper_ui_id"),l={jsouper_ui_id:"{{__system.attrs.id}}"};if(b||(b={}),b["event-focus-isFocus"]=function(){a.set("__system.attrs.isFocus",!0)},b["event-blur-isFocus"]=function(){setTimeout(function(){return a.get("__system.attrs.stopBlur")?(a.set("__system.attrs.stopBlur",!1),void 0):(a.set("__system.attrs.isFocus",!1),void 0)},1)},jSouper.$.fI(b,function(b,c){var d=c.split("-");d.splice(0,1);var e="__system.events."+d.join(".");l[c+k]="{{'"+e+"'}}",a.set(e,b)}),a.set("__system.attrs.id",k),i)for(c in i)d=i[c],l[c]=/\{[\w\W]*?\{[\w\W]*?\}[\s]*\}/.test(d)?d:"{{attrs."+c+"}}";if(j)for(e in j)f=j[e],l["event-"+e]=f instanceof Function?"{{'events."+e+"'}}":f;a.addAttr(a.queryElement({tagName:"INPUT"}),l);var m=a.queryElement({tagName:"JSOUPERFORMUI"})[0];m&&(jSouper.queryHandle(m).viewModel=a)}function b(a){var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.href=a,b.media="screen";var c=document.getElementsByTagName("head")[0];c.appendChild(b)}function c(){jSouper.build({Url:h+"jsouper.base-ui.xmp"})}function d(a){function b(a){var b=[],c=RegExp(a,"gi");return jSouper.$.E(jSouper.$.s(e),function(a){c.test(a)&&b.push(a)}),b}var c,d,e,f,g,h,i=a.model,j=i._database||{},k=a.queryElement({tagName:"INPUT"})[0],l=j.autocomplete;a.set("autocomplete",Model.Observer(function(b,d,i){if(!e)return a.get("__system.attrs.autocomplete");if(b===i){var j=a.get("value");if(j!==h)if(h=j,j){var l=f(j);g&&g.length||!l||!l.length||Model.finallyRun.register(jSouper.$.hashCode(k),function(){var b=k.offsetWidth;c||(c=a.queryElement({tagName:"AUTOCOMPLETEWRAP"})[0]),c&&(c.style.cssText="min-width:"+b+"px;_width:expression((document.documentElement.clientWidth||document.body.clientWidth)>"+b+'?"'+b+'px":"");')}),g=l}else g&&(g.length=0)}return g},function(c,i,j){return j===c&&g!==i&&i&&(i instanceof Object?(i instanceof Function?f=e=i:(f=b,e=i),a.set("__system.attrs.autocomplete",!1),a.set("__system.attrs.close_sys_ac",!0)):(e=!1,d=i,a.set("__system.attrs.autocomplete",d),a.set("__system.attrs.close_sys_ac",!1)),h=void 0),e?e:d})),a.set("autocomplete",l),a.set("__system.events.autocomplete.click",function(b,c){a.set("value",c.get()),a.set("__system.attrs.isFocus",!1)})}function e(a){var b=a.model._database;if(b.autofocus){var c=a.queryElement({tagName:"INPUT"})[0];(b.events||(b.events={}))["ready-autofocus"]=function(){setTimeout(function(){c.focus()})}}}function f(a){function b(b){var d=a.get("title");return c.test(b)?(a.set("__system.attrs.pattern_error",!1),void 0):(a.set("__system.attrs.pattern_error",!0),new String(d))}var c,d,e,f=a.model,g=f._database,h=a.queryElement({tagName:"INPUT"})[0],i=g.pattern;a.set("pattern",Model.Observer(function(){var b=a.get("value");return(c||e)&&(d=e(b)),d},function(a,f){f&&f!==d&&("string"==typeof f?(c=new RegExp(f),e=b):f instanceof RegExp?(c=f,e=b):f instanceof Function&&(c=null,e=f))})),a.set("pattern",i),a.get("pattern",i),a.set("__system.attrs.show_pattern_error",Model.Observer(function(){var b=a.get("__system.attrs.pattern_error"),c=a.get("__system.attrs.isSubmitted"),d=b&&c;return d})),a.set("__system.events.click.pattern",function(){a.set("__system.attrs.stopBlur",!0),setTimeout(function(){h.focus()})})}for(var g,h="./jsouper-ui/",i={dev:["jsouper.base-ui.min.css"]},j=0;g=i.dev[j];j+=1)b(h+g);c(),jSouper.modulesInit["form.text"]=function(b){d(b),e(b),f(b),a(b)},jSouper.modulesInit["form.submit"]=function(b){var c=b.queryElement({tagName:"INPUT"})[0],d={"event-click-pattern":function(){var a=c.form,b=a.getElementsByTagName("jsouperFormUi"),d=!0;return jSouper.$.E(b,function(a){var b=jSouper.queryHandle(a);if(b){var c=b.viewModel;c.set("__system.attrs.isSubmitted",!0),d=d&&!c.get("__system.attrs.pattern_error")}}),d}};a(b,d)}}(this);